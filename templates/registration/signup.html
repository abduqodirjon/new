{% extends 'registration/base.html' %}
{% load crispy_forms_tags %}
{% load crispy_forms_field %}
 {% block title %}<title>Ro'yxatdan o'tish</title>{% endblock title %}kirish
    {% block content %}
                  <div class="pt-4 pb-2">
                    <h5 class="card-title text-center pb-0 fs-4">Ro'yxatdan o'tish</h5>
                    <p class="text-center small">Profil qaydnomasini yaratish uchun shaxsiy ma'lumotlarni kiriting</p>
                  </div>

                  <form class="row g-3 needs-validation" novalidate action="{% url 'signup' %}" method="POST">
                    {% csrf_token %}
                    {{ form.media}}
                    {% for field in form %}
                    <div class="col-12">
                      <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                      {{ field }}
                      
                      <div class="invalid-feedback">Iltimos tegishli ma'lumotni kiriting!</div>
                    </div>
                    
                    {% endfor %}

       <!-- --------------  Xatoliklarni aytad i-------------------- -->
                    <!-- {% if form.errors %}
                        {% for field in form %}
                            {% for error in field.errors %}
                                <div class="alert alert-danger">
                                    {{ error|escape }}
                                </div>
                            {% endfor %}
                        {% endfor %}
                        {% for error in form.non_field_errors %}
                            <div class="alert alert-danger">
                                {{ error|escape }}
                            </div>
                        {% endfor %}
                    {% endif %} -->
  <!-- ------------------------------------------------------- -->
                   
                      <button class="btn btn-success w-100" type="submit">Yuborish</button>
                    </div>
                    <div class="col-12">
                      <p class="small mb-1" style="margin-left: 10px; ">   Profilingiz bormi? <a href="{% url 'login' %}">Kirish</a></p>
                    </div>
                  </form>

                  <script>
                    var inp = document.querySelectorAll("input");
                    var lbl = document.querySelectorAll("label");
                    var div = document.querySelectorAll("form .col-12");
                  
                    for (let index = 0; index < inp.length; index++) {
                      inp[index].className = "form-control";
                      
                    }
                    lbl[5].innerText = "Email";
                    lbl[7].innerText = "Parol";
                    lbl[8].innerText = "Parolni tasdiqlang";
                    div[3].innerHTML+=`<p class="small mb-2" style="margin-left: 10px; color: red;"> {{user_error}}</p>`;
                    div[7].innerHTML+=`<p class="small mb-2" style="margin-left: 10px; color: red;"> {{password_error}}</p>`;
                    div[7].innerHTML+=`<p class="small mb-2" style="margin-left: 10px; color: red;"> {{password_error_1}}</p>`;
                  
                    // .innerText = "{{user_error}}";
                  </script>
    {% endblock content %}

                